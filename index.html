<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Be My Valentine â¤ï¸</title>

<style>
body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg,#ff4b7d,#ff9a9e);
    font-family: 'Segoe UI', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.card {
    background: rgba(255,255,255,0.18);
    backdrop-filter: blur(12px);
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
    width: 90%;
    max-width: 420px;
    color: #fff;
    z-index: 2;
}

.hidden { display: none; }

.actions, .row {
    display: flex;
    justify-content: center;
    gap: 25px;
    flex-wrap: wrap;
}

button {
    padding: 14px 34px;
    font-size: 1.1rem;
    border-radius: 30px;
    border: none;
    cursor: pointer;
    background: #ff1744;
    color: #fff;
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    transition: transform 0.25s ease;
}

#no {
    background: #fff;
    color: #ff1744;
    position: relative;
}

/* Inputs */
input {
    width: 100%;
    padding: 12px;
    border-radius: 20px;
    border: none;
    margin: 10px 0;
    text-align: center;
}

/* Cards */
.card-tile {
    background: rgba(255,255,255,0.9);
    color: #ff1744;
    padding: 18px;
    border-radius: 16px;
    width: 120px;
    cursor: pointer;
    font-weight: 600;
}

/* Hearts */
.heart {
    position: fixed;
    font-size: 22px;
    animation: floatUp 1.2s ease forwards;
    pointer-events: none;
}

@keyframes floatUp {
    from { opacity: 1; transform: translateY(0); }
    to { opacity: 0; transform: translateY(-80px); }
}

/* Overlay */
.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: #fff;
    z-index: 10;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease;
}

.overlay.active {
    opacity: 1;
    pointer-events: all;
}

.countdown {
    margin-top: 20px;
    font-size: 1.4rem;
}

/* Fireworks canvas */
canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 5;
}
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<div class="card">

<!-- 1ï¸âƒ£ Valentine -->
<div id="step1">
    <h1>Will you be my Valentine? â¤ï¸</h1>
    <div class="actions">
        <button id="yes1">Yes ğŸ’–</button>
        <button id="no">No ğŸ’”</button>
    </div>
</div>

<!-- 2ï¸âƒ£ Celebrate -->
<div id="step2" class="hidden">
    <h1>Yayyyy!! ğŸ‰</h1>
    <button id="celebrate">Celebrate ğŸ’˜</button>
</div>

<!-- 3ï¸âƒ£ Letter -->
<div id="step3" class="hidden">
    <p>
        From small moments to big dreams,<br>
        choosing you feels natural and right â¤ï¸<br><br>
        <strong>Itâ€™s always been you.</strong>
    </p>
    <button id="toGame">Next ğŸ’«</button>
</div>

<!-- 4ï¸âƒ£ Questions -->
<div id="step4" class="hidden">
    <h2>How well do you know me? ğŸ˜</h2>
    <input placeholder="ğŸ• Favorite food">
    <input placeholder="ğŸ¬ Favorite movie">
    <input id="favPerson" placeholder="ğŸ˜‰ Favorite person">
    <button id="toCards">Continue ğŸ’«</button>
</div>

<!-- 5ï¸âƒ£ Compliments -->
<div id="step5" class="hidden">
    <h2>Tap to reveal ğŸ’–</h2>
    <div class="row">
        <div class="card-tile" data-text="You have the most beautiful smile ğŸ˜">Compliment</div>
        <div class="card-tile" data-text="Because you make everything feel like home â¤ï¸">Why I love you</div>
        <div class="card-tile" data-text="A future full of laughter, travel & together âœ¨">Future</div>
    </div>
    <br>
    <button id="toFinal">Continue ğŸ’«</button>
</div>

</div>

<!-- 6ï¸âƒ£ Final Question -->
<div class="overlay" id="finalOverlay">
    <p>Thereâ€™s one more thingâ€¦</p>
    <p style="margin-top:15px;">Will you go on a date with me? â¤ï¸</p>
    <button id="finalYes">Yes ğŸ’˜</button>
    <div id="countdown" class="countdown hidden"></div>
</div>

<script>
/* ğŸ† Fireworks */
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth;
canvas.height = innerHeight;

let particles = [];
let fireworksActive = false;

function createFirework(x, y) {
    const colors = ['#ff1744','#ffd700','#ff69b4','#ffffff'];
    for (let i = 0; i < 40; i++) {
        particles.push({
            x, y,
            r: Math.random() * 3 + 1,
            c: colors[Math.floor(Math.random() * colors.length)],
            vx: (Math.random() - 0.5) * 6,
            vy: (Math.random() - 0.5) * 6,
            life: 60
        });
    }
}

function animateFireworks() {
    if (!fireworksActive) return;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach((p,i)=>{
        p.x+=p.vx; p.y+=p.vy; p.life--;
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fillStyle=p.c;
        ctx.fill();
        if(p.life<=0) particles.splice(i,1);
    });
    requestAnimationFrame(animateFireworks);
}

function startFireworks() {
    fireworksActive = true;
    const burst = setInterval(()=>{
        createFirework(Math.random()*canvas.width, Math.random()*canvas.height*0.7);
        animateFireworks();
    },300);

    setTimeout(()=>{
        clearInterval(burst);
        fireworksActive = false;
        ctx.clearRect(0,0,canvas.width,canvas.height);
    },3500);
}

/* âŒ No button slips freely */
const noBtn = document.getElementById('no');
noBtn.onmouseenter = () => {
    const x = (Math.random() - 0.5) * 180;
    const y = (Math.random() - 0.5) * 120;
    noBtn.style.transform = `translate(${x}px, ${y}px)`;
};
noBtn.onclick = e => e.preventDefault();

/* Step control */
const show = id => {
    document.querySelectorAll('.card > div').forEach(d => d.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
};

document.getElementById('yes1').onclick = () => {
    startFireworks();   // ğŸ† fireworks at YES
    show('step2');
};

document.getElementById('celebrate').onclick = () => show('step3');
document.getElementById('toGame').onclick = () => show('step4');
document.getElementById('toCards').onclick = () => show('step5');

/* Auto-correct favorite person */
document.getElementById('favPerson').oninput = () => {
    setTimeout(()=>document.getElementById('favPerson').value='You â¤ï¸',400);
};

/* Hearts on reveal */
function heart(x,y){
    const h=document.createElement('div');
    h.className='heart';
    h.innerText='â¤ï¸';
    h.style.left=x+'px';
    h.style.top=y+'px';
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1200);
}

document.querySelectorAll('.card-tile').forEach(c=>{
    c.onclick=e=>{
        c.innerText=c.dataset.text;
        heart(e.clientX,e.clientY);
    };
});

document.getElementById('toFinal').onclick = () => {
    document.getElementById('finalOverlay').classList.add('active');
};

/* Countdown */
document.getElementById('finalYes').onclick = () => {
    const el = document.getElementById('countdown');
    el.classList.remove('hidden');
    const target = new Date('2026-02-08T00:00:00').getTime();

    setInterval(()=>{
        const now=Date.now(), d=target-now;
        const days=Math.floor(d/86400000);
        const hrs=Math.floor(d/3600000)%24;
        const mins=Math.floor(d/60000)%60;
        const secs=Math.floor(d/1000)%60;
        el.innerHTML=`Next date in ğŸ’–<br>${days}d ${hrs}h ${mins}m ${secs}s`;
    },1000);
};
</script>

</body>
</html>
